<h1 class="card-title">Add new product</h1>
<div *ngIf="errorMessage" class="alert alert-danger" role="alert">
    Error: {{errorMessage}}
</div>
<form [formGroup]="addProductForm" autocomplete="off" novalidate (ngSubmit)="submit(addProductForm.value)">
    <div class="form-group row">
        <label for="name" class="col-form-label col-sm-2">Name:</label>
        <div class="col-md-5">
            <input type="text" id="name" formControlName="name" class="form-control"/>
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('name') && hasError('name', 'required')">Name is required</em>
            <em *ngIf="validateControl('name') && hasError('name', 'minlength')">Name is to short (3)</em>
            <em *ngIf="validateControl('name') && hasError('name', 'maxlength')">Name is to long (64)</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="brand" class="col-form-label col-sm-2">Brand:</label>
        <div class="col-md-5">
            <input type="text" id="brand" formControlName="brand" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('brand') && hasError('brand', 'minlength')">Brand is to short (3)</em>
            <em *ngIf="validateControl('brand') && hasError('brand', 'maxlength')">Brand is to long (32)</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="barcode" class="col-form-label col-sm-2">Barcode:</label>
        <div class="col-md-5">
            <input type="text" id="barcode" formControlName="barcode" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('barcode') && hasError('barcode', 'minlength')">Barcode has to be 13 digit long</em>
            <em *ngIf="validateControl('barcode') && hasError('barcode', 'maxlength')">Barcode has to be 13 digit long</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="size" class="col-form-label col-sm-2">Package size:</label>
        <div class="col-md-5">
            <input type="number" id="size" formControlName="size" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('size') && hasError('size', 'required')">Size is required</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="sizeUnit" class="col-form-label col-sm-2">Size unit:</label>
        <div class="col-md-5">            
            <select class="form-select" aria-label="Default select example" id="sizeUnit" formControlName="sizeUnit">
                <option value="g">g</option>
                <!-- <option value="kg">kg</option>
                <option value="lbs">lbs</option> -->
            </select>
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('sizeUnit') && hasError('sizeUnit', 'required')">Size unit is required</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="energy" class="col-form-label col-sm-2">Energy (kCal):</label>
        <div class="col-md-5">
            <input type="number" id="energy" formControlName="energy" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('energy') && hasError('energy', 'required')">Energy is required</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="fats" class="col-form-label col-sm-2">Fats (g):</label>
        <div class="col-md-5">            
            <input type="number" id="fats" formControlName="fats" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('fats') && hasError('fats', 'required')">Fats are required</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="proteins" class="col-form-label col-sm-2">Proteins (g):</label>
        <div class="col-md-5">            
            <input type="number" id="proteins" formControlName="proteins" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('proteins') && hasError('proteins', 'required')">Proteins are required</em>
        </div>
    </div>
    <div class="form-group row">
        <label for="carbohydrates" class="col-form-label col-sm-2">Carbohydrates (g):</label>
        <div class="col-md-5">            
            <input type="number" id="carbohydrates" formControlName="carbohydrates" class="form-control" />
        </div>
        <div class="col-md-5">
            <em *ngIf="validateControl('carbohydrates') && hasError('carbohydrates', 'required')">Carbohydrates are required</em>
        </div>
    </div>
    <br>

    <button type="submit" class="btn"
        [ngClass]="{'btn-primary': addProductForm.valid, 'btn-secondary': !addProductForm.valid}"
        [disabled]="!addProductForm.valid">Submit</button>

</form>